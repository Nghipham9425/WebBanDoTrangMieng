@model WebBanDoTrangMieng.User
@{
    ViewBag.Title = "Sửa người dùng";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    var roles = new[] {
        new { Value = "Admin", Text = "Quản trị (Admin)" },
        new { Value = "Warehouse", Text = "Bộ phận kho" },
        new { Value = "Sales", Text = "Bộ phận bán hàng" },
        new { Value = "Accounting", Text = "Bộ phận kế toán" },
        new { Value = "CSKH", Text = "Bộ phận CSKH" },
        new { Value = "Marketing", Text = "Bộ phận marketing" }
    };
    bool isActive = Model.IsActive ?? true;
}
<div class="container mt-4">
    <h2>Sửa người dùng</h2>
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.UserId)
        <div class="mb-3">
            @Html.LabelFor(m => m.UserName, new { @class = "form-label" })
            @Html.TextBoxFor(m => m.UserName, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.UserName, "", new { @class = "text-danger" })
        </div>
        <div class="mb-3">
            @Html.LabelFor(m => m.Email, new { @class = "form-label" })
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
        </div>
        <div class="mb-3">
            @Html.LabelFor(m => m.Role, new { @class = "form-label" })
            @Html.DropDownListFor(m => m.Role, new SelectList(roles, "Value", "Text", Model.Role), "-- Chọn vai trò --", new { @class = "form-select" })
            @Html.ValidationMessageFor(m => m.Role, "", new { @class = "text-danger" })
        </div>
        <div class="mb-3">
            @Html.LabelFor(m => m.Phone, new { @class = "form-label" })
            @Html.TextBoxFor(m => m.Phone, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Phone, "", new { @class = "text-danger" })
        </div>
        <div class="mb-3">
            @Html.LabelFor(m => m.Address, new { @class = "form-label" })
            @Html.TextBoxFor(m => m.Address, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Address, "", new { @class = "text-danger" })
        </div>
        <div class="mb-3">
            @Html.LabelFor(m => m.IsActive, new { @class = "form-label" })
            @Html.CheckBox("IsActive", isActive)
            <span class="ms-2">Hoạt động</span>
        </div>
        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Lưu</button>
        <a href="@Url.Action("Index", "User", new { area = "Admin" })" class="btn btn-secondary ms-2">Quay lại</a>
    }
</div>

